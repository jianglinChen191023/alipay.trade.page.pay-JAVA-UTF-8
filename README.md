- [äºŒåäºŒ å‰å°-æ”¯ä»˜æ¡ˆä¾‹](#äºŒåäºŒ-å‰å°-æ”¯ä»˜æ¡ˆä¾‹)
    - [1. æ”¯ä»˜å®å¼€æ”¾å¹³å°](#1-æ”¯ä»˜å®å¼€æ”¾å¹³å°)
    - [2. ç”µè„‘ç½‘ç«™æ”¯ä»˜](#2-ç”µè„‘ç½‘ç«™æ”¯ä»˜)
        - [2.1 æ€»ä½“æ­¥éª¤å‚è€ƒ](#21-æ€»ä½“æ­¥éª¤å‚è€ƒ)
        - [2.2 åº”ç”¨](#22-åº”ç”¨)
        - [2.3 åŠ å¯†](#23-åŠ å¯†)
            - [2.3.1 å¯¹ç§°åŠ å¯†](#231-å¯¹ç§°åŠ å¯†)
            - [2.3.2 éå¯¹ç§°åŠ å¯†](#232-éå¯¹ç§°åŠ å¯†)
            - [2.3.3 è°ƒç”¨æ”¯ä»˜å®æ¥å£æ—¶ä½¿ç”¨çš„ç§˜é’¥](#233-è°ƒç”¨æ”¯ä»˜å®æ¥å£æ—¶ä½¿ç”¨çš„ç§˜é’¥)
            - [2.3.4 ç”Ÿæˆç§˜é’¥å·¥å…·](#234-ç”Ÿæˆç§˜é’¥å·¥å…·)
                - [2.3.5 ç”Ÿæˆå•†æˆ·ç§˜é’¥](#235-ç”Ÿæˆå•†æˆ·ç§˜é’¥)
        - [2.4 æ”¯ä»˜æµç¨‹](#24-æ”¯ä»˜æµç¨‹)
    - [3. å†…ç½‘ç©¿é€](#3-å†…ç½‘ç©¿é€)
        - [3.1 ä¸Šç½‘çš„å¸¸è§„æ–¹å¼](#31-ä¸Šç½‘çš„å¸¸è§„æ–¹å¼)
        - [3.2 é¡¹ç›®å‘å¸ƒçš„å¸¸è§„æ–¹å¼](#32-é¡¹ç›®å‘å¸ƒçš„å¸¸è§„æ–¹å¼)
        - [3.3 ç°åœ¨é¢ä¸´çš„ç‰¹æ®Šæƒ…å†µ](#33-ç°åœ¨é¢ä¸´çš„ç‰¹æ®Šæƒ…å†µ)
        - [3.4 å†…ç½‘ç©¿é€](#34-å†…ç½‘ç©¿é€)
        - [3.5 å†…ç½‘ç©¿é€å·¥å…· `natapp`](#35-å†…ç½‘ç©¿é€å·¥å…·-natapp)
            - [3.5.1 ä¸‹è½½å®¢æˆ·ç«¯å·¥å…·](#351-ä¸‹è½½å®¢æˆ·ç«¯å·¥å…·)
            - [3.5.2 æ³¨å†Œè´­ä¹°éš§é“](#352-æ³¨å†Œè´­ä¹°éš§é“)
            - [3.5.3 `Mac` ç”¨æˆ·ä½¿ç”¨ `natapp`](#353-mac-ç”¨æˆ·ä½¿ç”¨-natapp)
            - [3.5.4 æµ‹è¯•](#354-æµ‹è¯•)
    - [4. æ²™ç®±ç¯å¢ƒ](#4-æ²™ç®±ç¯å¢ƒ)
        - [4.1 è¿›å…¥æ²™ç®±ç¯å¢ƒ](#41-è¿›å…¥æ²™ç®±ç¯å¢ƒ)
        - [4.2 æ²™ç®±åº”ç”¨](#42-æ²™ç®±åº”ç”¨)
        - [4.3 æ²™ç®±æµ‹è¯• APP](#43-æ²™ç®±æµ‹è¯•-app)
    - [5. ç”µè„‘ç½‘ç«™æ”¯ä»˜ Demo](#5-ç”µè„‘ç½‘ç«™æ”¯ä»˜-demo)
        - [5.1 ä¸‹è½½ Demo](#51-ä¸‹è½½-demo)
    - [6. ä½¿ç”¨ `Eclipse` å¯¼å…¥ `Demo`](#6-ä½¿ç”¨-eclipse-å¯¼å…¥-demo)
    - [7. ä½¿ç”¨ `Idea` æ‰“å¼€æ”¯ä»˜æ¡ˆä¾‹ `Demo`](#7-ä½¿ç”¨-idea-æ‰“å¼€æ”¯ä»˜æ¡ˆä¾‹-demo)
        - [7.1 é…ç½®ä¾èµ– `command + ;`](#71-é…ç½®ä¾èµ–-command--)
        - [7.2 é…ç½® `Web` å’Œ `Tamcat Server`](#72-é…ç½®-web-å’Œ-tamcat-server)
        - [7.3 ä¿®æ”¹é…ç½®æ–‡ä»¶](#73-ä¿®æ”¹é…ç½®æ–‡ä»¶)
        - [7.4 å¯åŠ¨ `Tomcat`](#74-å¯åŠ¨-tomcat)
        - [7.5 æµ‹è¯•](#75-æµ‹è¯•)


# äºŒåäºŒ å‰å°-æ”¯ä»˜æ¡ˆä¾‹

![img](https://cdn.nlark.com/yuque/0/2022/jpeg/12811585/1662449474458-a1c597b3-a9cd-4215-b264-5e89ebbfacc5.jpeg)

## 1. æ”¯ä»˜å®å¼€æ”¾å¹³å°

- é¦–é¡µ: https://open.alipay.com/
- æ–‡æ¡£æŒ‡å¼•: https://opendocs.alipay.com/open/01bxlm



## 2. ç”µè„‘ç½‘ç«™æ”¯ä»˜

![img](https://cdn.nlark.com/yuque/0/2022/jpeg/12811585/1662449638305-0ef9c0e4-1416-4358-886c-040c627dab29.jpeg)

### 2.1 æ€»ä½“æ­¥éª¤å‚è€ƒ

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662442908428-8b1c84f5-0153-45a6-b66f-4e450a349321.png)



### 2.2 åº”ç”¨

- å¼€å‘å·¥ç¨‹ä¸­ä½¿ç”¨å¼€å‘å¹³å°æä¾›çš„æ²™ç®±ç¯å¢ƒè¿›è¡Œè°ƒè¯•, æ²™ç®±ç¯å¢ƒä¸­çš„åº”ç”¨å·²ç»åˆ›å»ºå¥½äº†, ä¸éœ€è¦æ‰§è¡Œåˆ›å»ºæµç¨‹
- åŠŸèƒ½å¼€å‘å®Œæˆ, é¡¹ç›®ä¸Šçº¿æ—¶å†åˆ›å»ºåº”ç”¨

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662443523631-60789be5-53ec-4382-ac49-56f8f0c9c6e5.png)



### 2.3 åŠ å¯†

#### 2.3.1 å¯¹ç§°åŠ å¯†

- æ˜æ–‡ -> åŠ å¯† -> å¯†æ–‡

    - å¯†æ–‡ -> è§£å¯† -> æ˜æ–‡

- å¦‚æœçŸ¥é“å¯†æ–‡å¯ä»¥åæ¨æ˜æ–‡



#### 2.3.2 éå¯¹ç§°åŠ å¯†

å¯†ç å­¦

- å…¬é’¥åŠ å¯†ç§é’¥è§£å¯†/ç§é’¥åŠ å¯†å…¬é’¥è§£å¯†

    - ç”¨å…¬é’¥åŠ å¯†çš„ä¸èƒ½ç”¨å…¬é’¥åœ¨è§£å¯†
    - ç”¨ç§é’¥åŠ å¯†çš„ä¹Ÿä¸èƒ½ç”¨ç§é’¥å†è§£å¯†

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662444328243-9d61a568-a1f8-49ea-9486-9face050f87e.png)

- å…¬é’¥ç”Ÿæˆçš„å¯†æ–‡, ç”¨ç§é’¥å»è§£å¯†



#### 2.3.3 è°ƒç”¨æ”¯ä»˜å®æ¥å£æ—¶ä½¿ç”¨çš„ç§˜é’¥

- å•†æˆ·å’Œæ”¯ä»˜å®éƒ½è¦æä¾›å…¬é’¥å’Œç§é’¥

    - å•†æˆ·éœ€è¦è°ƒç”¨æ”¯ä»˜å®æ¥å£
    - æ”¯ä»˜å®ä¹Ÿéœ€è¦è°ƒç”¨å•†æˆ·æ¥å£

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662444764985-c75edd6c-739e-4749-a14d-82d0bcb6a535.png)

- åœ¨æ”¯ä»˜å®å¼€æ”¾å¹³å°çš„åº”ç”¨ä¸­è®¾ç½®å•†æˆ·å…¬é’¥
- åœ¨æ”¯ä»˜å®å¼€æ”¾å¹³å°çš„åº”ç”¨ä¸­è·å–æ”¯ä»˜å®çš„å…¬é’¥



- åœ¨æˆ‘ä»¬è°ƒç”¨æ”¯ä»˜å®æ¥å£çš„ç¨‹åºä¸­è®¾ç½®

    - æ”¯ä»˜å®å…¬é’¥
    - å•†æˆ·çš„ç§é’¥



#### 2.3.4 ç”Ÿæˆç§˜é’¥å·¥å…·

- https://opendocs.alipay.com/open/02nlga

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662445179524-2175d7b3-e462-4095-9de4-c1f036f6a914.png)

- å¼€å‘è€…å¯é€šè¿‡å¦‚ä¸‹å·¥å…·ç”Ÿæˆ **å…¬ã€ç§é’¥å¯¹** æˆ– **CSR æ–‡ä»¶**ï¼ˆç”¨äºç”³è¯·è¯ä¹¦ï¼‰ã€‚

    - WINDOWS: https://ideservice.alipay.com/ide/getPluginUrl.htm?clientType=assistant&platform=win&channelType=WEB
    - MAC: https://ideservice.alipay.com/ide/getPluginUrl.htm?clientType=assistant&platform=mac&channelType=WEB



##### 2.3.5 ç”Ÿæˆå•†æˆ·ç§˜é’¥

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662445501348-481d0e3a-8765-424c-bb26-97d4644ba15d.png)

- ç§é’¥

```latex
MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDFEqMLulY2vw9PZX3XCdleB6ri6I6+0eTBQM5gqLafaibUdEc7LwyPaFBQD5ScsRcgDP13g4h/LeUMMwtkb/0wmiKs75piCxELxiT1erGvFLm2wZK7GtXHizjDyUWxtLOVOCWj7ZvoJt/gCTmKeCSaaAVdxLuXsolZVZfml7OifwribATsvLKSGeMcSp4KX32bdQkPnpkR0J9RBAS6Yw1/mYmCiEeFgX7lMfeKhwiAEWrKup6cibJLwZ7GX1WyDfmrWQ0Z5SwSBvdo3VGAqNqoPUwggM7d0uOdYRN179jAMcQtGApg+xCQY7IaKSjLd307ZH/0ofja+1dpZhpgaKG/AgMBAAECggEAR1w3RADmRQ6sCZDzn1FGr4DRRTb2sWwpjDzePiv5bQIwK1ArluezgZ5BLqxloNOTTxzFD2jGnV7OCLvXDThsExRNKBfe7E+bjYrjSSxzeLVlhiLT8gKGlKn6FRMltHJ9cLQTFSfuA4NIH8TXXCejAXJXNxwM3aJdj8apqWsXNehs90HCP8urTkSeLsUMiU8Iee/OgwTL6xdwUEh7xFS+eWnIGxhJeJPScq+XTKKevcRPVmPJopTwjhTv61cp3i/IkaXBmRizbfI9tOO6R1EqBvWGj6b0b3+tog15Go0nCv/GRsAU1shTF23cGIRkB5O2fZsAvNcCXQ8GnoSnqBnbUQKBgQD9nqWZMTnpPgGJHGlSiM/dErjB0tb8serdl2wceXkLCf9PJAg15x5HdZL8T+AdED+fC5UH82AH9mFUqDitcyRBCl5WinC2Sr/IEFLl6e8fO1fSp50zG3bqkiLZIN1gqlEFkWwfDy7L7d4LKbtUer7iW9inOyMvCfGhEOLVsDAjaQKBgQDG7CEFLgWbNlgD1cCHnxSbnYUjXB1Dz07HvJVvtFMrRGA//aUpRDuM48U7+UT245dbw5nKwsQp3/Ky0aqLO/M9DW8kC4qMH5ExBDspgOtGmDac8Jqj66cjpZ955zryzaVxOR+Iu7rsTEwo0UpzdDnOm2VUy1Gu7CHTdJ9K5NN+5wKBgQDdsXrhsRUFHE1tU+eA3NSOU5oq2ylQFBnQf1digJBdJO0GeeGvdIqUPmMwqIWoAhcK6K3qGES+URD9VlrMy1RKgky6ayNhRW/k6tf734RFkbMQEbIpBX3qR7msgLzijZ5rNpYDhFsMqa2ppl34157Z8R0t+VSk/pU3jLIrxmod2QKBgHhBGXkrKEJ7qNuwpfKXDftBT9JfhmWO9r4y2FguODUo4dLtgKIg2KtEquClwbZLQh48ckWsVrBF7U+DBsmjVVmsPGsa+wfYsYpjV2ywvgrwS9u2bJX6CRG4t18XlYBhJ8n50YF0k/zz5vqqA4smUSgAs1J+k4Pexlgx4XaCPQUzAoGBAI/NuQpFHXueJucmSww83cEF6zf79ikFbIK5OfHVkxWaYB/EcNZNRi1MFSl+uHP3tPTT/520VMkPnO4EinviWA23roSKHQIB6XlUiOeHOkKqpnA49ivI/Gj5PqRRXSfDcqMc6HCrMVQFmV61l1gZ8jdOpp4R3GcojiE53X3P7+b0
```

- å…¬é’¥

```plain
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxRKjC7pWNr8PT2V91wnZXgeq4uiOvtHkwUDOYKi2n2om1HRHOy8Mj2hQUA+UnLEXIAz9d4OIfy3lDDMLZG/9MJoirO+aYgsRC8Yk9XqxrxS5tsGSuxrVx4s4w8lFsbSzlTglo+2b6Cbf4Ak5ingkmmgFXcS7l7KJWVWX5pezon8K4mwE7LyykhnjHEqeCl99m3UJD56ZEdCfUQQEumMNf5mJgohHhYF+5TH3iocIgBFqyrqenImyS8Gexl9Vsg35q1kNGeUsEgb3aN1RgKjaqD1MIIDO3dLjnWETde/YwDHELRgKYPsQkGOyGikoy3d9O2R/9KH42vtXaWYaYGihvwIDAQAB
```



### 2.4 æ”¯ä»˜æµç¨‹

- https://opendocs.alipay.com/open/270/105899

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662445860622-a16346bc-653a-4619-bd7f-9a366a50d180.png)

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662445878102-9a80ebfb-7453-407c-ba1e-87e201fc07f6.png)



## 3. å†…ç½‘ç©¿é€

![img](https://cdn.nlark.com/yuque/0/2022/jpeg/12811585/1662449637333-6f471537-585f-46b9-90e3-4c43f7bf4fad.jpeg)

### 3.1 ä¸Šç½‘çš„å¸¸è§„æ–¹å¼

- åœ¨å†…ç½‘ä¸­è®¿é—®å¤–ç½‘

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662446432888-24ee4252-07f6-482d-bb5d-5aefeb7f1c34.png)



### 3.2 é¡¹ç›®å‘å¸ƒçš„å¸¸è§„æ–¹å¼

- å…ˆåœ¨å†…ç½‘ç¯å¢ƒä¸­å®Œæˆå¼€å‘, åœ¨éƒ¨ç½²åˆ°ä½äºå¤–ç½‘çš„ç”ŸæˆæœåŠ¡å™¨ä¸Š

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662446785204-8c5ff3ac-2f63-41ab-89df-e8c5191c6d08.png)



### 3.3 ç°åœ¨é¢ä¸´çš„ç‰¹æ®Šæƒ…å†µ

- æˆ‘ä»¬ç°åœ¨åœ¨å†…ç½‘å¼€å‘ç¯å¢ƒä¸‹, éœ€è¦è®©æ”¯ä»˜å®æ¥è°ƒç”¨å†…ç½‘ä¸­çš„é¡¹ç›®
- å¦‚æœä¸ç”¨ç‰¹æ®Šçš„å¤„ç†è¿™ç§æƒ…å†µæ˜¯è®¿é—®ä¸åˆ°å†…ç½‘çš„



### 3.4 å†…ç½‘ç©¿é€

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662447088258-42f22d42-4393-4d4d-9d65-24a1727cb981.png)



### 3.5 å†…ç½‘ç©¿é€å·¥å…· `natapp`

- https://natapp.cn/

#### 3.5.1 ä¸‹è½½å®¢æˆ·ç«¯å·¥å…·

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662447678360-d303a2eb-ce0b-44cc-bd4d-d09f0d6f0d53.png)

- mac 64: [ğŸ“natapp_darwin_amd64_2_3_9.zip](https://www.yuque.com/attachments/yuque/0/2022/zip/12811585/1662447992127-8d532e1a-a7ea-478a-82fe-875f7ed3e3bc.zip)
- mac åˆ¤æ–­64è¿˜æ˜¯32: ç»ˆç«¯: `uname -a`æ˜¾ç¤º `X86_**64**` å°±æ˜¯64



#### 3.5.2 æ³¨å†Œè´­ä¹°éš§é“

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662447611040-8c7f48a1-3492-44ed-99f8-5ece5bf6607d.png)

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662450198769-b4d531f8-44e5-447f-bd2f-869033d6722e.png)



#### 3.5.3 `Mac` ç”¨æˆ·ä½¿ç”¨ `natapp`

- è§£å‹å¾—åˆ° `natapp` æ–‡ä»¶
- é…ç½®æ–‡ä»¶ `config.ini`, é…ç½® `authtoken` -> åœ¨æˆ‘çš„æ¸ é“ä¸­

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662450305789-444a1db8-61d6-4e05-a112-fb6164600c35.png)

```shell
#å°†æœ¬æ–‡ä»¶æ”¾ç½®äºnatappåŒçº§ç›®å½• ç¨‹åºå°†è¯»å– [default] æ®µ
#åœ¨å‘½ä»¤è¡Œå‚æ•°æ¨¡å¼å¦‚ natapp -authtoken=xxx ç­‰ç›¸åŒå‚æ•°å°†ä¼šè¦†ç›–æ‰æ­¤é…ç½®
#å‘½ä»¤è¡Œå‚æ•° -config= å¯ä»¥æŒ‡å®šä»»æ„config.iniæ–‡ä»¶
[default]
authtoken=                      #å¯¹åº”ä¸€æ¡éš§é“çš„authtoken
clienttoken=                    #å¯¹åº”å®¢æˆ·ç«¯çš„clienttoken,å°†ä¼šå¿½ç•¥authtoken,è‹¥æ— è¯·ç•™ç©º,
log=none                        #log æ—¥å¿—æ–‡ä»¶,å¯æŒ‡å®šæœ¬åœ°æ–‡ä»¶, none=ä¸åšè®°å½•,stdout=ç›´æ¥å±å¹•è¾“å‡º ,é»˜è®¤ä¸ºnone
loglevel=ERROR                  #æ—¥å¿—ç­‰çº§ DEBUG, INFO, WARNING, ERROR é»˜è®¤ä¸º DEBUG
http_proxy=                     #ä»£ç†è®¾ç½® å¦‚ http://10.123.10.10:3128 éä»£ç†ä¸Šç½‘ç”¨æˆ·è¯·åŠ¡å¿…ç•™ç©º
```

æ­¤å¤„ä¸ºè¯­é›€åŠ å¯†æ–‡æœ¬å¡ç‰‡ï¼Œç‚¹å‡»é“¾æ¥æŸ¥çœ‹ï¼šhttps://www.yuque.com/lingchen-bf1rc/hoahc6/lt8vyw#Kaaa1

- åœ¨`Linux/Mac` ä¸‹ éœ€è¦å…ˆç»™æ‰§è¡Œæƒé™

```bash
chmod a+x natapp
```

- ç„¶åå†è¿è¡Œ

```bash
./natapp
```



#### 3.5.4 æµ‹è¯•

1. å®‰è£… `nginx`

```bash
brew install ngixn
```



1. ä¿®æ”¹ `nginx.conf`, å°†ç«¯å£æ”¹ä¸º `80`

```bash
vi /usr/local/etc/nginx/nginx.conf
```



1. é‡å¯ nginx

```bash
brew services restart nginx
```

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662450035067-01b88d46-7eb7-4cd8-8dcc-95388e877af6.png)



1. å¯åŠ¨ natapp

```bash
./natapp
```

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662450058435-1dd4cb01-063b-4459-9877-44ce9a22cc5c.png)

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662450072123-e30158f1-3388-4e3b-b24b-00e855cb43f4.png)





## 4. æ²™ç®±ç¯å¢ƒ

### 4.1 è¿›å…¥æ²™ç®±ç¯å¢ƒ

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662454969504-60be2a35-7b79-4a21-b373-fc579dd30835.png)



### 4.2 æ²™ç®±åº”ç”¨

- å¯ç”¨å…¬é’¥æ¨¡å¼: è‡ªåŠ¨ç”Ÿæˆåº”ç”¨å…¬é’¥/ç§é’¥å’Œæ”¯ä»˜å®å…¬é’¥

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662458519142-0840e618-bbf3-4a33-97e0-fc693f1299cb.png)

- æŸ¥çœ‹

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662467822180-3731f25a-5197-46a4-95eb-87ab6015515c.png)



### 4.3 æ²™ç®±æµ‹è¯• APP

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662471711403-aa5ab977-c315-4809-9fc9-1fa77c30b2ae.png)



## 5. ç”µè„‘ç½‘ç«™æ”¯ä»˜ Demo

### 5.1 ä¸‹è½½ Demo

- `Demo` é™„ä»¶: [ğŸ“alipay.trade.page.pay-JAVA-UTF-8.zip](https://www.yuque.com/attachments/yuque/0/2022/zip/12811585/1662450537769-30d5c266-56ab-4ad9-aa85-90c9b5c9dd4d.zip)
- https://opendocs.alipay.com/open/270/106291

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662450489249-93d9f947-10ba-48ec-b5b3-49fa1ff4d569.png)



## 6. ä½¿ç”¨ `Eclipse` å¯¼å…¥ `Demo`

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662454632236-cdcfc73a-4f4d-4784-b442-11dc4cbfda8c.png)

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662454610801-8b9e060a-013c-4139-a6e2-bc8cd9f35848.png)



## 7. ä½¿ç”¨ `Idea` æ‰“å¼€æ”¯ä»˜æ¡ˆä¾‹ `Demo`

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662474766428-4101e3ef-7176-4e2b-8dea-e50b01367037.png)

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662474756975-144f7439-720f-4de4-bd14-3ef85576d887.png)

### 7.1 é…ç½®ä¾èµ– `command + ;`

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662453269136-19a0a4b6-b89b-4d32-9a06-cfda6f35799e.png)

1. å»æ‰çº¢è‰²ä¾èµ–
2. æ·»åŠ ä¾èµ–åŒ…

- ç‚¹å‡» `+` å·, é€‰æ‹©

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662453380538-812876f6-5ff2-4b03-a9e8-a015410315da.png)

- åŠ å…¥ä¾èµ–, ä¸€ä¸ªä¸€ä¸ªé€‰æ‹©

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662469931753-3e02820b-e92b-4586-be5a-8313b8a107f9.png)\![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662469942955-2b647dfc-b65c-4176-9a00-f578990285f8.png)

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662475321209-76fd20e1-044c-427a-82ea-a5fd8ad2e7d9.png)



### 7.2 é…ç½® `Web` å’Œ `Tamcat Server`

1. æ·»åŠ  `Web`

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662470234078-d004f779-c85d-4b3f-886f-c78f3888d7b7.png)



1. å‡å» Web.xml

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662470301375-680b2b0c-374f-4222-8d5a-9bc9070dba57.png)



1. ä¿®æ”¹ `web` ç›®å½•

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662470323751-ea3ed674-ecd3-4161-ad60-1405cf4efb80.png)



1. ç‚¹å‡» `Create Artifact`

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662470347334-3c685cd1-c9b8-4b84-892f-f1f5abf83da6.png)



1. å³é”®æ·»åŠ 

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662470399143-a35eb462-2811-4a46-adc2-eb7ca3774778.png)

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662470443570-c66a2994-6391-4c1a-ae66-81afd560e6ac.png)

- è®°å¾—ç‚¹å‡» `Apply`

1. æ‰“å¼€è¿è¡Œé…ç½®

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662470484680-0d2eaa47-7657-4d1a-bda2-637d8bd0ffbd.png)



1. æ·»åŠ  `Tomcat Server`

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662470738432-319a8d4b-55e3-4be7-8b7c-f92bb8d506e6.png)



1. å°† `Artifact` æ·»åŠ è¿›å…¥

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662470609797-1e26eb7b-74e9-476b-840e-65e8b8c81043.png)



### 7.3 ä¿®æ”¹é…ç½®æ–‡ä»¶

- å°†æ–‡ä»¶æ ¼å¼æ”¹ä¸º `GBK` å†æ”¹ä¸º `UTF-8`

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662453146503-32e333bc-c062-4533-a948-179021144b72.png)

```java
package com.alipay.config;

import java.io.FileWriter;
import java.io.IOException;

/* *
 *ç±»åï¼šAlipayConfig
 *åŠŸèƒ½ï¼šåŸºç¡€é…ç½®ç±»
 *è¯¦ç»†ï¼šè®¾ç½®å¸æˆ·æœ‰å…³ä¿¡æ¯åŠè¿”å›è·¯å¾„
 *ä¿®æ”¹æ—¥æœŸï¼š2017-04-05
 *è¯´æ˜ï¼š
 *ä»¥ä¸‹ä»£ç åªæ˜¯ä¸ºäº†æ–¹ä¾¿å•†æˆ·æµ‹è¯•è€Œæä¾›çš„æ ·ä¾‹ä»£ç ï¼Œå•†æˆ·å¯ä»¥æ ¹æ®è‡ªå·±ç½‘ç«™çš„éœ€è¦ï¼ŒæŒ‰ç…§æŠ€æœ¯æ–‡æ¡£ç¼–å†™,å¹¶éä¸€å®šè¦ä½¿ç”¨è¯¥ä»£ç ã€‚
 *è¯¥ä»£ç ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶æ”¯ä»˜å®æ¥å£ä½¿ç”¨ï¼Œåªæ˜¯æä¾›ä¸€ä¸ªå‚è€ƒã€‚
 */

public class AlipayConfig {

//â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“è¯·åœ¨è¿™é‡Œé…ç½®æ‚¨çš„åŸºæœ¬ä¿¡æ¯â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“

    // åº”ç”¨ID,æ‚¨çš„APPIDï¼Œæ”¶æ¬¾è´¦å·æ—¢æ˜¯æ‚¨çš„APPIDå¯¹åº”æ”¯ä»˜å®è´¦å·
    // ä½¿ç”¨æ²™ç®±ç¯å¢ƒçš„ APPID
    public static String app_id = "2016100100642012";

    // å•†æˆ·ç§é’¥ï¼Œæ‚¨çš„PKCS8æ ¼å¼RSA2ç§é’¥
    public static String merchant_private_key = "MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCSW8OKd+By+Ea7UP9yCbWtlhvr7QvgAfiG9joMwbZ+Zma2/YMOWaAPD6NowrnaNaNd9gWZB/qJ1oe5QAXUi4bi/J1n+1+T1giRSaFtpkfDeRBvKmTiSyYCeGk7aeT0FWODWQB7ZnPD9R6KCeJCVhzN2YmurNFHftiM1fFcRHUNb5Daw0m7xKrOebQwMIk7K3at5a/Yd5nMUcOqoUOKTXMjxXSW6CnFXMCirPhg/e5aAMD+GiOUOIKx/DTtnZjVBv5UF0MJ7Xg1/wtrkHi4k3ZPLwJdMjv4UOH9377BbGFkyc0/0PJPhG69TqyyOInUCDNDyhzaYpH423GhlJy4uywrAgMBAAECggEAenw/jp+6gJ1VnKgxz/9eQ3Lv1SdiG8uqcVCZzllD4E7UwWoyhwzszg35ZNAqd/sRyK3/i03JGBgpKBjziCho74gYN5CBMZkbPHQRnFFfl7C210H0ggoAOmsJLob17GwGB0OyCpP4aFO4hi+1Ymzs2D2pYz0QPDRlCKB3yQ8louKjlykGSWwo58zwm935BHvv//JijHGbMbqDJGMfj/ogjhDP0txE7ZBiO9sEc1RjZ5Csg/81H8XSXCGyMowTX+I2M2ys59HMiuZFLM3pG5/UfOkqGKEJcv/ymsKILgL5h2XvLIFbgUqG4WMmHAX+moApnqmnkOtvSnE1u9hnBIkE+QKBgQDuerisalgfDlJ4wn3A7yQyX4cbT3ozLmqo/FZrlrd/ZJ/HgFrGBiEjaSxWRUxVUBGOgyQszOCzvhPySJjW6Y+xcai1MpC0z9fnvbpFM5GVVKUDIIA//O8+Ukd7wZyW20jebeFNk9I/kTAHs751wSJ8x60OET34r+ESk6aV+9xMDQKBgQCdHHK2XKgbUb+LtM0BUDq4KzPWW3/XYMrKpazDjwB+z2XWJSzch4nXyEa/8QAnUI3Atyn0fK1BmfyvFFtHpQtUpMUKtsswz9+RLwFrFrMspl3POlQEaU32fzl/RL7mybZyt71Mqcgq41DAtrVcyXWhgU1x6XrHcCxwZ0LROsDzFwKBgEolLbWteqhtM4cIMUEDGSXwPXloRH4VOGRB0DyzJ2ocRvEoHxDiZvszf+1yrkD4G/1LGLw1FsfLmTgDCkIHa/2ncOSlTAhrdp0+h+NsHR9oqcVHHZjHczrVKhR4Jc9hbk55q0sLYpsQ8PX0FItX+PkCu/NbuQDQ7hFwhqKrI9shAoGADU9LqIdQ9n+Gap92fpX9Y3zFd3No8SYSB/jhGfATaqrHRc0Ab+5Ljyw4UipoiOwaFiluNHgbdWNGNM7UrM0emJ0c1DuIGyqBFhuVUy0pIK83Y0bdt0H0iN1eUZnRUlvkSPOn5ca8XmXDgY/47VNj07rQhMXy0NJ/8UXOM0t27SECgYEAxERMjSKIjJ4VRcVcroBzdXZ2O3Pj9r1BLkyY8qKmptYvA+yinVWvvVzwjoHqLoqEkVZMq2ixrLYt7sl3esfGyUIdxjXUI1cbvCOpbDe7f0kJxvXyldC5Lrtama5gdJE36JFGbWrf2PRg4in1sizMjyY8G/SDMS0MNKpzos4pASQ=";

    // æ”¯ä»˜å®å…¬é’¥,æŸ¥çœ‹åœ°å€ï¼šhttps://openhome.alipay.com/platform/keyManage.htm å¯¹åº”APPIDä¸‹çš„æ”¯ä»˜å®å…¬é’¥ã€‚
    public static String alipay_public_key = "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoauF73gbBsJVQkFK/gmmVOWzYevEJZyPozl9L/49MvZKgo9oVOniBIJZq3+/ve6UZUKxLhKGFekP7mCsqMP3J+dr/a12gcVeBX8mu8J6ArwJnQ+pNsbZl9/dlpaob7qEGPd4gCZyr4J31ejpHrFJZBrUeHMtp3bo41YlMa7EKq4eoI8o8nm8yLFedtmtE5/LlY1uj3W0n6ZTGMjGfAOBQSICeoEJZPH+9u/NkLC/2FhRNNMwEAyp0xYQ3AjlX93GFL5F/1nc56oXDzpcIVzBXW+RP8Of1ISwFiXw6qF/P+zXLUNFmjDh03bJrdHoYuvS/Xygs53gwLYFIF+Qdo1KBwIDAQAB";

    // æœåŠ¡å™¨å¼‚æ­¥é€šçŸ¥é¡µé¢è·¯å¾„  éœ€http://æ ¼å¼çš„å®Œæ•´è·¯å¾„ï¼Œä¸èƒ½åŠ ?id=123è¿™ç±»è‡ªå®šä¹‰å‚æ•°ï¼Œå¿…é¡»å¤–ç½‘å¯ä»¥æ­£å¸¸è®¿é—®
    // å·¥ç¨‹å…¬ç½‘è®¿é—®åœ°å€é¦–é¡µå†…ç½‘ç©¿é€å®¢æˆ·ç«¯æä¾›çš„åŸŸå
    public static String notify_url = "http://xsxpge.natappfree.cc/alipay_trade_page_pay_JAVA_UTF_8_Web_exploded//notify_url.jsp";

    // é¡µé¢è·³è½¬åŒæ­¥é€šçŸ¥é¡µé¢è·¯å¾„ éœ€http://æ ¼å¼çš„å®Œæ•´è·¯å¾„ï¼Œä¸èƒ½åŠ ?id=123è¿™ç±»è‡ªå®šä¹‰å‚æ•°ï¼Œå¿…é¡»å¤–ç½‘å¯ä»¥æ­£å¸¸è®¿é—®
    // å·¥ç¨‹å…¬ç½‘è®¿é—®åœ°å€é¦–é¡µå†…ç½‘ç©¿é€å®¢æˆ·ç«¯æä¾›çš„åŸŸå
    public static String return_url = "http://xsxpge.natappfree.cc/alipay_trade_page_pay_JAVA_UTF_8_Web_exploded//return_url.jsp";

    // ç­¾åæ–¹å¼
    public static String sign_type = "RSA2";

    // å­—ç¬¦ç¼–ç æ ¼å¼
    public static String charset = "utf-8";

    // æ”¯ä»˜å®ç½‘å…³ï¼ˆæ­£å¼ç¯å¢ƒï¼‰
    /// public static String gatewayUrl = "https://openapi.alipay.com/gateway.do";

    // æ”¯ä»˜å®ç½‘å…³ï¼ˆæ²™ç®±ç¯å¢ƒï¼‰
    public static String gatewayUrl = "https://openapi.alipaydev.com/gateway.do";

    // æ—¥å¿—è·¯å¾„ï¼ˆwinï¼‰
    // public static String log_path = "C:\\";

    // æ—¥å¿—è·¯å¾„ï¼ˆmacï¼‰
    public static String log_path = "/Users/chenjianglin/Desktop/";

//â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘è¯·åœ¨è¿™é‡Œé…ç½®æ‚¨çš„åŸºæœ¬ä¿¡æ¯â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘

    /**
     * å†™æ—¥å¿—ï¼Œæ–¹ä¾¿æµ‹è¯•ï¼ˆçœ‹ç½‘ç«™éœ€æ±‚ï¼Œä¹Ÿå¯ä»¥æ”¹æˆæŠŠè®°å½•å­˜å…¥æ•°æ®åº“ï¼‰
     * @param sWord è¦å†™å…¥æ—¥å¿—é‡Œçš„æ–‡æœ¬å†…å®¹
     */
    public static void logResult(String sWord) {
        FileWriter writer = null;
        try {
            writer = new FileWriter(log_path + "alipay_log_" + System.currentTimeMillis()+".txt");
            writer.write(sWord);
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            if (writer != null) {
                try {
                    writer.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }
    }
}
```



### 7.4 å¯åŠ¨ `Tomcat`

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662470792565-1bcf0af3-aa68-4aaa-a3a8-91d06181a5f6.png)



### 7.5 æµ‹è¯•

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662475072176-b48c558d-30de-4783-8624-6e1aa38a5135.png)

- ç‚¹å‡»ä»˜æ¬¾

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662475191740-b3c1aafc-f482-4832-9f2e-1c889e776eeb.png)

- æ‰«ç ä»˜æ¬¾

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662475244057-c8bedc91-7ad7-4531-986c-3f06c8b1ba7f.png)

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662475250302-1617b55a-5102-412d-a0b3-efd065ae10e0.png)

![img](https://cdn.nlark.com/yuque/0/2022/png/12811585/1662475256993-041d2b26-8f41-42e0-814f-763be06c3ea2.png)

